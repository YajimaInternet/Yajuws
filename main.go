package main

import (
	"bufio"
	"fmt"
	"math/rand"
	"os"
	"runtime"
	"strings"
	"time"
)

func main() {
	rand.Seed(time.Now().UnixNano())
	reader := bufio.NewReader(os.Stdin)

	showWarning()
	sleepSeconds(3)

	for {
		clearScreen()
		printBanner()
		fmt.Println("[1] ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ£ (ã‚„ã‚Šã¾ã™ã­ã‡ï¼)")
		fmt.Println("[2] ã‚·ã‚¹ãƒ†ãƒ æƒ…å ± (24æ­³ã€å­¦ç”Ÿã§ã™)")
		fmt.Println("[3] èªéŒ²ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ (ãƒ•ã‚¡ãƒƒï¼ï¼Ÿ 75+5ä¼èª¬ç‰ˆ)")
		fmt.Println("[4] ã‚¨ãƒ©ãƒ¼è¨ºæ–­ (ãƒ•ã‚¡ãƒœã‚‰ã‚Œã¦ã¾ã™ã­ã‡)")
		fmt.Println("[5] ã‚„ã‚ã‚‹ (çµ‚äº†)")
		fmt.Println()
		fmt.Print("é¸æŠè‚¢ã‚’å…¥åŠ› (1-5): ")

		choice, ok := readLine(reader)
		if !ok {
			fmt.Println()
			exitMessage()
			return
		}

		switch strings.TrimSpace(choice) {
		case "1":
			fileManager(reader)
		case "2":
			systemInfo(reader)
		case "3":
			quotes(reader)
		case "4":
			diagnosis(reader)
		case "5":
			exitMessage()
			return
		default:
			// stay on main
		}
	}
}

func showWarning() {
	clearScreen()
	fmt.Println("========================================================")
	fmt.Println("  æ³¨æ„: ã“ã‚Œã¯ãƒã‚¿ç”¨ã‚¸ãƒ§ãƒ¼ã‚¯ã‚½ãƒ•ãƒˆã§ã™")
	fmt.Println("  PCã«ä¸€åˆ‡å½±éŸ¿ã‚’ä¸ãˆã¾ã›ã‚“ã€‚çµ‚äº†ã§å…ƒé€šã‚Šã€‚")
	fmt.Println("  ä½œæˆè€…: YajimaNetWorks (ãƒã‚¿ã¨ã—ã¦)")
	fmt.Println("========================================================")
	fmt.Println()
}

func printBanner() {
	fmt.Println("   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—")
	fmt.Println("   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•")
	fmt.Println("   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—")
	fmt.Println("   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•")
	fmt.Println("   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—")
	fmt.Println("   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•")
	fmt.Println()
	fmt.Println("                       ã‚„ã‚Šã¾ã™ã­ã‡ï¼Yajuws OS v3.0")
	fmt.Println("                 ç‹é“ã‚’å¾ãé‡ç£+wawawaä¼èª¬ã‚·ã‚¹ãƒ†ãƒ ï¼")
	fmt.Println()
}

func fileManager(reader *bufio.Reader) {
	clearScreen()
	fmt.Println()
	fmt.Println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
	fmt.Println("â•‘                ã‚„ã‚Šã¾ã™ã­ã‡ï¼ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ£               â•‘")
	fmt.Println("â•‘                                                          â•‘")
	fmt.Println("â•‘  C:Yajuwsyaju.exe             666MB                 â•‘")
	fmt.Println("â•‘  C:Yajuwsyajusenpai.iso        24GB                  â•‘")
	fmt.Println("â•‘  C:Yajuwsgoro.txt            359èªéŒ²+5ä¼èª¬ 114514KB â•‘")
	fmt.Println("â•‘  C:Yajuwswawawa_legend.mp3     âˆMB                   â•‘")
	fmt.Println("â•‘                                                          â•‘")
	fmt.Println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
	fmt.Println()
	fmt.Println("æ³¨: å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚ãƒã‚¿ã§ã™ï¼")
	pause(reader)
}

func systemInfo(reader *bufio.Reader) {
	clearScreen()
	fmt.Println()
	fmt.Println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
	fmt.Println("â•‘                          ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±                           â•‘")
	fmt.Println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
	fmt.Println()
	fmt.Println("OSå: Yajuws OS v3.0 (é‡ç£å…ˆè¼©+wawawaä¼èª¬ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³)")
	fmt.Println("ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ç‹é“ã‚’å¾ãï¼(èªéŒ²75+5ä¼èª¬)")
	fmt.Println("CPU: é‡ç£ãƒ—ãƒ­ã‚»ãƒƒã‚µ (24æ­³å­¦ç”Ÿã‚³ã‚¢ x 114514 + wawawaã‚³ã‚¢)")
	fmt.Println("RAM: ãƒ•ã‚¡ãƒƒï¼ï¼Ÿ ä¼èª¬èªéŒ²ç„¡é™å¤§")
	fmt.Println("ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: æ·«å¤¢å®¹é‡ + wawawaä¼èª¬å®¹é‡")
	fmt.Println()
	fmt.Printf("å®Ÿãƒ›ã‚¹ãƒˆOS: %s (%s)\n", runtime.GOOS, runtime.Version())
	if hostOS := os.Getenv("OS"); hostOS != "" {
		fmt.Printf("ç’°å¢ƒå¤‰æ•°OS: %s\n", hostOS)
	}
	fmt.Println()
	pause(reader)
}

func quotes(reader *bufio.Reader) {
	for {
		clearScreen()
		fmt.Println()
		fmt.Println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
		fmt.Println("â•‘                       èªéŒ²ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ v3.0                   â•‘")
		fmt.Println("â•‘           é‡ç£å…ˆè¼©75èªéŒ² + wawawaä¼èª¬5èª (5%ç¢ºç‡)             â•‘")
		fmt.Println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
		fmt.Println()

		if rand.Intn(20) == 0 {
			fmt.Println(randomWawawa())
		} else {
			fmt.Println(randomQuote())
		}

		fmt.Println()
		fmt.Println("[Enterã§æ¬¡ã¸ / qã§ãƒ¡ã‚¤ãƒ³ã«æˆ»ã‚‹]")
		fmt.Print(":")
		input, ok := readLine(reader)
		if !ok || strings.EqualFold(strings.TrimSpace(input), "q") {
			return
		}
	}
}

func diagnosis(reader *bufio.Reader) {
	clearScreen()
	fmt.Println()
	fmt.Println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
	fmt.Println("â•‘                         ã‚¨ãƒ©ãƒ¼è¨ºæ–­ãƒ„ãƒ¼ãƒ«                        â•‘")
	fmt.Println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
	fmt.Println()
	fmt.Println("è¨ºæ–­ä¸­... (359èªéŒ²+5ä¼èª¬ã‚¹ã‚­ãƒ£ãƒ³)")
	sleepSeconds(2)

	switch rand.Intn(3) {
	case 0:
		fmt.Println("âœ“ ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ã€‚é‡ç£å…ˆè¼©+wawawaãŒå®ˆã£ã¦ã¾ã™ï¼")
	case 1:
		fmt.Println("âš ï¸ è»½å¾®ãªã‚¨ãƒ©ãƒ¼: èªéŒ²ä¸è¶³ã€‚ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼(3)ã§è£œå……ã‚’ï¼")
	default:
		fmt.Println("âŒ æ·±åˆ»ãªã‚¨ãƒ©ãƒ¼: ãƒ•ã‚¡ãƒƒï¼ï¼Ÿ ãŸã¾ã«ã¯å¤§äººã—ãæ­»ã­(ä¼èª¬)")
	}
	fmt.Println()
	pause(reader)
}

func exitMessage() {
	clearScreen()
	fmt.Println()
	fmt.Println("Yajuws OS v3.0ã‚’çµ‚äº†ã—ã¾ã™ã€‚ã‚„ã‚Šã¾ã™ã­ã‡ï¼ã¾ãŸã©ã†ãï¼")
	fmt.Println("(é‡ç£å…ˆè¼©75èªéŒ² + wawawaä¼èª¬5èª ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ)")
	sleepSeconds(2)
}

func readLine(reader *bufio.Reader) (string, bool) {
	line, err := reader.ReadString('\n')
	if err != nil && line == "" {
		return "", false
	}
	return strings.TrimRight(line, "\r\n"), true
}

func pause(reader *bufio.Reader) {
	fmt.Println("Enterã§æˆ»ã‚‹")
	_, _ = readLine(reader)
}

func sleepSeconds(sec int) {
	time.Sleep(time.Duration(sec) * time.Second)
}

func clearScreen() {
	// ANSIã‚¯ãƒªã‚¢ãŒåŠ¹ã‹ãªã„ç’°å¢ƒã§ã‚‚å•é¡Œãªãä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠã
	fmt.Print("\x1b[2J\x1b[H")
}

func randomWawawa() string {
	wawawa := []string{
		"ğŸ”¥ wawaã•ã‚“ã€ŒãŸã¾ã«ã¯å¤§äººã—ãæ­»ã­ã€[ä¼èª¬]",
		"ğŸ”¥ wawaã•ã‚“ã€Œã‚‚ã†ãƒœãƒ­ãƒœãƒ­ã ã‚ˆâ€¦ã€[ä¼èª¬]",
		"ğŸ”¥ wawaã•ã‚“ã€Œãã‚Œã¯é‡ç—‡ã§ã™ã­â€¦ã€[ä¼èª¬]",
		"ğŸ”¥ wawaã•ã‚“ã€Œã‚„ã‚ã¨ã‘ã€é ­ãŠã‹ã—ã„ã€[ä¼èª¬]",
		"ğŸ”¥ wawaã•ã‚“ã€Œãƒ•ã‚¡ãƒƒï¼ï¼Ÿæ„å‘³ã‚ã‹ã‚“ã­ã‡ã€[ä¼èª¬]",
	}
	return wawawa[rand.Intn(len(wawawa))]
}

func randomQuote() string {
	quotes := []string{
		"ã‚„ã‚Šã¾ã™ã­ã‡ï¼",
		"24æ­³ã€å­¦ç”Ÿã§ã™ã€‚",
		"ç‹é“ã‚’å¾ãï¼",
		"ãƒ•ã‚¡ãƒƒï¼ï¼Ÿ",
		"æ°—æŒã¡ãƒï½",
		"ã“â†‘ã“â†“å…¥ã£ã¦ã€ã©ã†ãã€‚",
		"æµè¡Œã‚‰ã›ã‚³ãƒ©ï¼",
		"å–‰æ¸‡ã‹ãƒ»ãƒ»ãƒ»å–‰æ¸‡ã‹ãªã„ï¼Ÿ",
		"ãƒ–ãƒƒãƒãƒƒãƒ‘ï¼",
		"ã¬ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚“ç–²ã‚ŒãŸã‚‚ãŠãŠãŠï¼",
		"å†·ãˆã¦ã‚‹ã‹ï½ï¼Ÿ",
		"ãƒã‚¤ã€ãƒ¨ãƒ­ã‚·ã‚¯ã‚¥ï¼",
		"ä½•ã‚„ã£ã¦ã‚“ã ã‚ã„ã¤ã‚‰ãƒ»ãƒ»ãƒ»",
		"ãŠã†ã€è€ƒãˆã¦ã‚„ã‚‹ã‚ˆï¼ˆè¿”ã™ã¨ã¯è¨€ã£ã¦ã„ãªã„ï¼‰",
		"ãŠã¾ã‚“ã“ã‰ï¼¾ï½ï¼ˆæ°—ã•ããªæŒ¨æ‹¶ï¼‰",
		"æ°—æŒã¡ã„ã„ã§ã™ã­ï¼ˆå»ºå‰ï¼‰æ°—æŒã¡ã‚ˆãã¯ãªã„ï¼ï¼ˆæœ¬éŸ³ï¼‰",
		"å†—è«‡ã¯ã‚ˆã—ã¦ãã‚Œï¼ˆã‚¿ãƒ¡å£ï¼‰",
		"ã—ã‚‡ã†ãŒã­ã‡ãªãï¼ˆæ‚Ÿç©ºï¼‰",
		"ãªã‚“ã ã“ã‚Œã¯ã€ãŸã¾ã’ãŸãªãã€‚",
		"ã¾ãšã†ã¡ã•ãã€å±‹ä¸Šã‚ã‚“ã ã‘ã©ãƒ»ãƒ»ãƒ»",
		"å¤œä¸­è…¹æ¸›ã‚“ãªã„ã™ã‹ï¼Ÿ",
		"ã‚¤ã‚­ã‚¹ã‚®ã‚£ï¼",
		"ã»ã‚‰è¡Œãã©ãƒ¼",
		"å…ˆè¼©ã€ä½•ã—ã¦ã‚‹ã‚“ã§ã™ã‹",
		"ã‚ãƒ¼ã‚‚ã†ã‚ã¡ã‚ƒãã¡ã‚ƒã ã‚ˆï¼ˆå‘†ã‚Œï¼‰",
		"ãŠå‰ã®ã“ã¨ãŒå¥½ãã ã£ãŸã‚“ã ã‚ˆ",
		"è­¦å¯Ÿã ï¼ï¼ˆã‚¤ãƒ³ãƒ‘ãƒ«ã‚¹æ¿å€‰ï¼‰",
		"å‡ºãã†ã¨æ€ãˆã°ï¼ˆç‹è€…ã®é¢¨æ ¼ï¼‰",
		"ã‚ã£ã€ãŠã„å¾…ã¦ã„ï¼ˆæ±Ÿæˆ¸ã£å­ï¼‰",
		"ã‚±ãƒ„ã®ç©´èˆã‚ã‚ï¼ˆé¬¼ç•œï¼‰",
		"ãŠå‰ãƒãƒ³ã‚±ã‹ã‚ˆã‰ï¼ï¼ˆé©šæ„•ï¼‰",
		"ã¯ãï½ï½ï½ï¼ˆã‚¯ã‚½ãƒ‡ã‚«ãŸã‚æ¯ï¼‰",
		"OKï¼ŸOKç‰§å ´ï¼Ÿï¼ˆæ¿€å¯’ï¼‰",
		"å¸ƒå›£ã®ä¸Šã§æ•ã‚’â€¦â‰ï¼ˆæœ€é‡è¦äº‹é …ï¼‰",
		"ç©´ã¯ä¸€ã¤ã—ã‹ãªã„ã‹ã‚‰ï¼ˆè‡³è¨€ï¼‰",
		"ã‚„ã‚Šã¾ã›ã‚“ã‹ï¼Ÿè¡Œãã¾ã—ã‚‡ã†ã‚ˆ",
		"ã™ã£ã’ãˆã‚­ãƒ„ã‹ã£ãŸã‚¾ï½",
		"ç”°æ‰€ã•ã‚“â‰",
		"ã‚ã£ã™ã„ã¾ã›ã‚“ï¼ˆç´ ï¼‰",
		"ã‚„ã¹ã‡ã€æ’ƒã£ã¡ã‚ƒã£ãŸï¼ˆä»–äººäº‹ï¼‰",
		"ã‚ˆã‹ã£ãŸã‚‰ã€ãŠè©±ã§ã‚‚ã—ã¾ã—ã‚‡ã†ãï¼ˆæ­¦å£«ï¼‰",
		"å¤šåˆ†å¤‰æ…‹ã ã¨æ€ã†ã‚“ã§ã™ã‘ã©ï¼ˆåæ¨ç†ï¼‰",
		"å…¥ã‚“ã­ã‡ã®ã‹â€¦ï¼ˆè½èƒ†ï¼‰",
		"ã‚„ã°ã„ã§ã™ã­ï¼ˆå†·é™ï¼‰",
		"é ­ã«ãã¾ã™ã‚ˆï¼ˆæ†¤æ€’ï¼‰",
		"ç—›ã„ã‚“ã ã‚ˆãŠãŠãŠãŠãŠãŠï¼ï¼ˆãƒã‚¸ã‚®ãƒ¬ï¼‰",
		"ã†ã‚“ã€ãŠã„ã—ã„ï¼ï¼ˆå‘³è¦šéšœå®³ï¼‰",
		"YOï¼ï¼ˆæ—¥é¡•ï¼‰",
		"ã€†é¯–ã‚¡ï¼ï¼ˆçŸ³ç”°å½°ï¼‰",
		"æ‚”ã„æ”¹ã‚ã¦ï¼ˆæˆ’ã‚ï¼‰",
		"ã¯ï¼Ÿï¼ˆå¨åœ§ï¼‰",
		"ã¯ã„ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼",
		"ã«ã‚ƒãƒ¼ã‚“",
		"ã“ã‚Œã¯ã²ã©ã„",
		"ãã‚ƒã‚ã‚ã‚ã‚",
		"ã‚„ã‚‹ã‚“ã™ã‹ï¼Ÿ",
		"çœ ã„",
		"ãã‚Œãª",
		"ã„ãˆãƒ¼ã„",
		"ã½ã‚“ã“ã¤",
		"ã¾ã˜ã‹ã‚ˆ",
		"ã‚ªãƒ©ã¤ããª",
		"ã—ã‚‡ãƒ¼ãŒã­ã‡ãª",
		"ãªã‚“ã§ã‚„ã­ã‚“",
		"ã²ãˆãƒ¼",
		"ãµã–ã‘ã‚“ãªï¼",
		"ã¾ã˜å",
		"ã„ã‘ã‚‹ã‚„ã‚“",
		"ã¯ã„ã¯ã„",
		"ã¾ã‚ã¾ã‚",
		"ã©ã‚“ã¾ã„",
		"ã„ã„ã",
		"ãƒ•ã‚¡ãƒƒï¼ï¼Ÿ",
		"ã©ã‘ã©ã‘ãƒ¼",
		"ã™ã’ãˆã‚ˆ",
	}
	return quotes[rand.Intn(len(quotes))]
}
